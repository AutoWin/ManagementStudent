<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>From home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="home.css">
    <script src="desktop_script.js"></script>
</head>
<body>
<header>
    <nav>
        <a class="active" href="Home.html">Home</a>
        <a href="project.html">Profile</a>
        <a href="Subject.html">Subject</a>
        <a href="Point.html">Point</a>
        <a href="Scroce.html">Course</a>
        <a href="Excercise.html">Exercises</a>
        <a href="Library.html">Library</a>
        <div>
            <a href="Login.html">Login</a>
            <a href="#signup">LogOut</a>
        </div>
    </nav>
</header>
<div class="box">
    <h2>Thông tin tìm kiếm:</h2>
    <form>
			<span class="inputbox">
				<!-- <span class="fa fa-trash-o icon" id="_delete"></span>		 -->
				<input type="text" name="" class="Search" placeholder="Nhập mã sinh viên" autocomplete="off"
                       id="studentId" value="B15DCCN507">
			</span>
        <span class="inputbox">
				<input list="browsers" name="browser" placeholder="Khóa học" id="browserName" value="idle1">
  				<datalist id="browsers">
				    <option value="idle1">
				    <option value="idle2">
				    <option value="idle3">
				    <option value="idle4">
				    <option value="idle5">
				    <option value="idle6">
  				</datalist>
			</span>
        <span class="Ky">
				<select id="semesterId">
					<!--<option selected="" disabled="">Kỳ học</option>-->
					<option>Spring</option>
					<option>Summer</option>
					<option>Autumn</option>
				</select>
			</span>
        <span>
				<button class="button_search" type="button" onclick="searchFunction()">
					<i class="fa fa-search icon"></i>
				</button>
			</span>
    </form>
    <marquee class="tt1" scrollamout="4">
        Đã có điểm các môn học.
    </marquee>
</div>
<div class="bangdiem">
    <div>
        <h3>
            <span style="float: left;">Lê Đức Mạnh</span>
            <span style="float: right;">B15DCCN341</span>
        </h3>
    </div>
    <div class="br1"></div>
    <div>
        <br/>
        <table id="point_tbl">
            <thead>
            <tr>
                <!--<th>STT</th>-->
                <th>Mã môn học</th>
                <th>Tên môn học</th>
                <th>TC</th>
                <th>CC</th>
                <th>TH</th>
                <th>KT</th>
                <th>BT</th>
                <th>Thi</th>
                <th>TB</th>
                <th>TK</th>
                <th>Ghi chú</th>
            </tr>
            </thead>

        </table>

    </div>

    <div class="div2">
        <table id="tbl2">
            <thead>
            <tr>
                <!--<th></th>-->
                <th>Hệ 10</th>
                <th>Hệ 4</th>
            </tr>
            </thead>
            <!--<tbody>-->
            <!--<tr>-->
                <!--<td>Điểm TB</td>-->
                <!--<td>8.5</td>-->
                <!--<td>3.70</td>-->
            <!--</tr>-->
            <!--</tbody>-->
        </table>
    </div>

</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script>
    function searchFunction() {
        let idStudents = document.getElementById("studentId").value;
        let subjects = document.getElementById("browserName").value;
        let semesters = document.getElementById("semesterId").value;
        if (!idStudents || !subjects || !semesters) {
            alert("Please enter your full condition!")
        }
        $(document).ready(function () {
            $.getJSON("point.json", function (data) {
                var stu_data = '';
                var table2 = '';
                var tempt;
                var i = 0;
                $.each(data, function (key, value) {
                    if (value.MSV == idStudents && subjects == "idle1") {
                        alert(value.MSV);
                        stu_data += "<tbody>";
                        // for(var j=1; j<=5; j++){
                        //
                        // }
                        stu_data += "<tr>";
                        // stu_data += "<td>" + (++i) + "</td>";
                        stu_data += "<td>" + "idle1" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + value.idle1.TC + "</td>";
                        stu_data += "<td>" + value.idle1.CC + "</td>";
                        stu_data += "<td>" + value.idle1.TH + "</td>";
                        stu_data += "<td>" + value.idle1.KT + "</td>";
                        stu_data += "<td>" + value.idle1.BT + "</td>";
                        stu_data += "<td>" + value.idle1.Exam + "</td>";
                        stu_data += "<td>" + (value.idle1.CC*0.1 + value.idle1.TH*0.1 + value.idle1.KT*0.1 + value.idle1.BT*0.1 + value.idle1.Exam*0.6).toString().substr(0,3) + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "</tr>";
                        stu_data += "</tbody>";

                        tempt = (value.idle1.CC*0.1 + value.idle1.TH*0.1 + value.idle1.KT*0.1 + value.idle1.BT*0.1 + value.idle1.Exam*0.6);
                        table2 += "<tbody>";
                        table2 += "<tr>";
                        table2 += "<td>" + tempt.toString().substr(0,3) + "</td>";
                        table2 += "<td>" + (tempt*0.4).toString().substr(0,3) + "</td>";
                        table2 += "</tr>";
                        table2 += "</tbody>";

                    }
                    else if (value.MSV == idStudents && subjects == "idle2"){
                        stu_data += "<tr>";
                        // stu_data += "<td>" + (++i) + "</td>";
                        stu_data += "<td>" + "idle2" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + value.idle2.TC + "</td>";
                        stu_data += "<td>" + value.idle2.CC + "</td>";
                        stu_data += "<td>" + value.idle2.TH + "</td>";
                        stu_data += "<td>" + value.idle2.KT + "</td>";
                        stu_data += "<td>" + value.idle2.BT + "</td>";
                        stu_data += "<td>" + value.idle2.Exam + "</td>";
                        stu_data += "<td>" + (value.idle2.CC*0.1 + value.idle2.TH*0.1 + value.idle2.KT*0.1 + value.idle2.BT*0.1 + value.idle2.Exam*0.6).toString().substr(0,3) + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "</tr>";

                        tempt = (value.idle2.CC*0.1 + value.idle2.TH*0.1 + value.idle2.KT*0.1 + value.idle2.BT*0.1 + value.idle2.Exam*0.6);
                        table2 += "<tbody>";
                        table2 += "<tr>";
                        table2 += "<td>" + tempt.toString().substr(0,3) + "</td>";
                        table2 += "<td>" + (tempt*0.4).toString().substr(0,3) + "</td>";
                        table2 += "</tr>";
                        table2 += "</tbody>";
                    }
                    else if (value.MSV == idStudents && subjects == "idle3"){
                        stu_data += "<tr>";
                        // stu_data += "<td>" + (++i) + "</td>";
                        stu_data += "<td>" + "idle3" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + value.idle3.TC + "</td>";
                        stu_data += "<td>" + value.idle3.CC + "</td>";
                        stu_data += "<td>" + value.idle3.TH + "</td>";
                        stu_data += "<td>" + value.idle3.KT + "</td>";
                        stu_data += "<td>" + value.idle3.BT + "</td>";
                        stu_data += "<td>" + value.idle3.Exam + "</td>";
                        stu_data += "<td>" + (value.idle3.CC*0.1 + value.idle3.TH*0.1 + value.idle3.KT*0.1 + value.idle3.BT*0.1 + value.idle3.Exam*0.6).toString().substr(0,3) + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "</tr>";

                        tempt = (value.idle3.CC*0.1 + value.idle3.TH*0.1 + value.idle3.KT*0.1 + value.idle3.BT*0.1 + value.idle3.Exam*0.6);
                        table2 += "<tbody>";
                        table2 += "<tr>";
                        table2 += "<td>" + tempt.toString().substr(0,3) + "</td>";
                        table2 += "<td>" + (tempt*0.4).toString().substr(0,3) + "</td>";
                        table2 += "</tr>";
                        table2 += "</tbody>";
                    }
                    else if (value.MSV == idStudents && subjects == "idle4"){
                        stu_data += "<tr>";
                        stu_data += "<td>" + (++i) + "</td>";
                        stu_data += "<td>" + "idle4" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + value.idle4.TC + "</td>";
                        stu_data += "<td>" + value.idle4.CC + "</td>";
                        stu_data += "<td>" + value.idle4.TH + "</td>";
                        stu_data += "<td>" + value.idle4.KT + "</td>";
                        stu_data += "<td>" + value.idle4.BT + "</td>";
                        stu_data += "<td>" + value.idle4.Exam + "</td>";
                        stu_data += "<td>" + (value.idle4.CC*0.1 + value.idle4.TH*0.1 + value.idle4.KT*0.1 + value.idle4.BT*0.1 + value.idle4.Exam*0.6).toString().substr(0,3) + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "</tr>";

                        tempt = (value.idle4.CC*0.1 + value.idle4.TH*0.1 + value.idle4.KT*0.1 + value.idle4.BT*0.1 + value.idle4.Exam*0.6);
                        table2 += "<tbody>";
                        table2 += "<tr>";
                        table2 += "<td>" + tempt.toString().substr(0,3) + "</td>";
                        table2 += "<td>" + (tempt*0.4).toString().substr(0,3) + "</td>";
                        table2 += "</tr>";
                        table2 += "</tbody>";
                    }
                    else if (value.MSV == idStudents && subjects == "idle5"){
                        stu_data += "<tr>";
                        // stu_data += "<td>" + (++i) + "</td>";
                        stu_data += "<td>" + "idle5" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + value.idle5.TC + "</td>";
                        stu_data += "<td>" + value.idle5.CC + "</td>";
                        stu_data += "<td>" + value.idle5.TH + "</td>";
                        stu_data += "<td>" + value.idle5.KT + "</td>";
                        stu_data += "<td>" + value.idle5.BT + "</td>";
                        stu_data += "<td>" + value.idle5.Exam + "</td>";
                        stu_data += "<td>" + (value.idle5.CC*0.1 + value.idle5.TH*0.1 + value.idle5.KT*0.1 + value.idle5.BT*0.1 + value.idle5.Exam*0.6).toString().substr(0,3) + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "<td>" + "" + "</td>";
                        stu_data += "</tr>";

                        tempt = (value.idle5.CC*0.1 + value.idle5.TH*0.1 + value.idle5.KT*0.1 + value.idle5.BT*0.1 + value.idle5.Exam*0.6);
                        table2 += "<tbody>";
                        table2 += "<tr>";
                        table2 += "<td>" + tempt.toString().substr(0,3) + "</td>";
                        table2 += "<td>" + (tempt*0.4).toString().substr(0,3) + "</td>";
                        table2 += "</tr>";
                        table2 += "</tbody>";
                    }
                });
                $('#point_tbl').append(stu_data);
                $('#tbl2').append(table2);
            });
        });
    }
</script>
</body>
</html>

<!--$(document).ready(function(){-->
<!--$.ajax({-->
<!--url: "http://api.openweathermap.org/data/2.5/weather?APPID=YOUR_API_KEY&id=5128581&units=imperial",-->
<!--dataType: 'json',-->
<!--success: function(data) {-->
<!--alert("Temperature is: " + data.main.temp );-->
<!--},-->
<!--error: function() {-->
<!--alert("error");-->
<!--}-->
<!--});-->
<!--});-->